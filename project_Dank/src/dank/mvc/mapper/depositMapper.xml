<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="deposit">

	<resultMap type="savvo" id="savingqua">
		<id property="sav_code" column="sav_code"/>
		<result property="sav_name" column="sav_name"/>
		<result property="sav_interestrate" column="sav_interestrate"/>
		<result property="sav_online" column="sav_online"/>
		<association property="qualificationVO" column="qua_code" javaType="quavo">
			<id property="qua_code" column="qua_code"/>
			<result property="qua_name" column="qua_name"/>
			<result property="qua_minperiod" column="qua_minperiod"/>
			<result property="qua_maxperiod" column="qua_maxperiod"/>
			<result property="qua_minage" column="qua_minage"/>
			<result property="qua_maxage" column="qua_maxage"/>
			<result property="qua_minmoney" column="qua_minmoney"/>
			<result property="qua_maxmoney" column="qua_maxmoney"/>
		</association>
	</resultMap>
	<select id="savingDetail" parameterType="int" resultMap="savingqua">
		select s.sav_code,s.sav_name,s.sav_interestrate,s.sav_online,
				q.qua_code,q.qua_name,q.qua_minperiod,q.qua_maxperiod,
				q.qua_minage,q.qua_maxage,q.qua_minmoney,q.qua_maxmoney
		from saving s, qualification q
		where s.qua_code = q.qua_code and sav_code=#{sav_code}
	</select>
	
	<resultMap type="insvo" id="insqua">
		<id property="ins_code" column="ins_code"/>
		<result property="ins_name" column="ins_name"/>
		<result property="ins_online" column="ins_online"/>
		<result property="ins_interestrate" column="ins_interestrate"/>
		<result property="ins_monmoney" column="ins_monmoney"/>
		<result property="ins_term" column="ins_term"/>
		<result property="shac_code" column="shac_code"/>
		
		<association property="qualificationVO" column="qua_code" javaType="quavo">
			<id property="qua_code" column="qua_code"/>
			<result property="qua_name" column="qua_name"/>
			<result property="qua_minperiod" column="qua_minperiod"/>
			<result property="qua_maxperiod" column="qua_maxperiod"/>
			<result property="qua_minage" column="qua_minage"/>
			<result property="qua_maxage" column="qua_maxage"/>
			<result property="qua_minmoney" column="qua_minmoney"/>
			<result property="qua_maxmoney" column="qua_maxmoney"/>
		</association>
	</resultMap>
	<select id="insDetail" parameterType="int" resultMap="insqua">
		select i.ins_code, i.ins_name,i.ins_online,i.ins_interestrate,i.ins_monmoney,i.ins_term,i.shac_code,
       		q.qua_code,q.qua_name,q.qua_maxage,q.qua_minage,q.qua_maxperiod,q.qua_minperiod,q.qua_maxmoney,q.qua_minmoney
		from installment_saving i, qualification q
		where i.qua_code = q.qua_code and ins_code=#{ins_code}
	</select>
	
	<select id="savlist" resultType="savvo">
		select sav_code,sav_name,sav_interestrate,sav_online,shas_code,qua_code from saving
	</select>
	
	<select id="inslist" resultType="insvo">
		select ins_code,ins_name,ins_online,ins_interestrate,ins_droprate,ins_monmoney,ins_term,shac_code,qua_code
		from installment_saving
	</select>
	
	<!-- <select id="psviewlist" parameterType="int" resultMap="psidto">
		select pro_code,sav_code,ins_code,shas_code,shac_code from pro_sav_ins where sav_code=#{sav_code}
	</select> -->

	
	<select id="ac_num_list" resultType="String">
		select ac_num from account
	</select>

</mapper>